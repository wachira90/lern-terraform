# **Terraform** ‡∏Å‡∏±‡∏ö **Terragrunt** 

‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡πÉ‡∏ä‡πâ‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ‡πÅ‡∏•‡∏∞‡∏î‡∏π‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢‡∏Å‡∏±‡∏ô‡πÉ‡∏ô‡∏ö‡∏≤‡∏á‡∏à‡∏∏‡∏î ‡πÅ‡∏ï‡πà‡∏à‡∏£‡∏¥‡∏á ‡πÜ ‡πÅ‡∏•‡πâ‡∏ß‡∏°‡∏µ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô

---

### üîπ Terraform ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£

**Terraform** ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠ **Infrastructure as Code (IaC)** ‡∏à‡∏≤‡∏Å HashiCorp ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö

* ‡∏™‡∏£‡πâ‡∏≤‡∏á (provision)
* ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç (modify)
* ‡πÅ‡∏•‡∏∞‡∏•‡∏ö (destroy)
  ‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡πÉ‡∏ô Cloud ‡πÄ‡∏ä‡πà‡∏ô AWS, GCP, Azure, Kubernetes ‡∏Ø‡∏•‡∏Ø ‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå `.tf`

#### ‡∏à‡∏∏‡∏î‡πÄ‡∏î‡πà‡∏ô‡∏Ç‡∏≠‡∏á Terraform:

* ‡πÄ‡∏õ‡πá‡∏ô ‚Äú‡∏ï‡∏±‡∏ß‡∏´‡∏•‡∏±‡∏Å‚Äù ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏™‡∏±‡πà‡∏á‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á‡∏Å‡∏±‡∏ö API ‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ Cloud
* ‡∏°‡∏µ **state file** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Å‡πá‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Ç‡∏≠‡∏á infrastructure
* ‡∏°‡∏µ **module system** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö reuse ‡πÇ‡∏Ñ‡πâ‡∏î
* ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏´‡∏•‡∏±‡∏Å ‡πÄ‡∏ä‡πà‡∏ô `terraform init`, `terraform plan`, `terraform apply`

---

### üîπ Terragrunt ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£

**Terragrunt** ‡πÄ‡∏õ‡πá‡∏ô **wrapper ‡∏´‡∏£‡∏∑‡∏≠ helper tool** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Terraform
‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ä‡πà‡∏ß‡∏¢ **‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡∏∞ workflow ‡∏Ç‡∏≠‡∏á Terraform** ‡πÉ‡∏´‡πâ‡∏™‡∏∞‡∏î‡∏ß‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô ‡πÇ‡∏î‡∏¢‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏´‡∏•‡∏≤‡∏¢ environment ‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏•‡∏≤‡∏¢ module

#### ‡∏à‡∏∏‡∏î‡πÄ‡∏î‡πà‡∏ô‡∏Ç‡∏≠‡∏á Terragrunt:

* ‡∏ä‡πà‡∏ß‡∏¢ **‡∏•‡∏î‡∏Å‡∏≤‡∏£‡∏ã‡πâ‡∏≥‡∏ã‡πâ‡∏≠‡∏ô‡∏Ç‡∏≠‡∏á‡πÇ‡∏Ñ‡πâ‡∏î Terraform** (DRY ‚Äì Don‚Äôt Repeat Yourself)
* ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ **remote state** ‡πÅ‡∏•‡∏∞ **backend configuration** ‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô
* ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ **run Terraform ‡∏´‡∏•‡∏≤‡∏¢ module** ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏° dependency
* ‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ **‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÅ‡∏ö‡∏ö multi-environment** (‡πÄ‡∏ä‡πà‡∏ô dev, staging, prod) ‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô

---

### üî∏ ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö

#### Terraform ‡πÅ‡∏ö‡∏ö‡∏õ‡∏Å‡∏ï‡∏¥

```
/prod/main.tf
/staging/main.tf
/dev/main.tf
```

‡πÅ‡∏ï‡πà‡∏•‡∏∞ environment ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≥‡∏´‡∏ô‡∏î backend, provider, variable ‡∏ã‡πâ‡∏≥ ‡πÜ ‡πÄ‡∏≠‡∏á

#### Terragrunt ‡πÅ‡∏ö‡∏ö‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á

```
/live/
 ‚îú‚îÄ‚îÄ prod/
 ‚îÇ   ‚îî‚îÄ‚îÄ terragrunt.hcl
 ‚îú‚îÄ‚îÄ staging/
 ‚îÇ   ‚îî‚îÄ‚îÄ terragrunt.hcl
 ‚îî‚îÄ‚îÄ dev/
     ‚îî‚îÄ‚îÄ terragrunt.hcl

/terraform-modules/
 ‚îî‚îÄ‚îÄ network/
 ‚îî‚îÄ‚îÄ compute/
```

‡πÉ‡∏ô `terragrunt.hcl` ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ include ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏à‡∏≤‡∏Å `root.hcl` ‡πÄ‡∏û‡∏∑‡πà‡∏≠ reuse backend, provider, variable ‡πÑ‡∏î‡πâ‡∏´‡∏°‡∏î

---

### üîπ ‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏™‡∏±‡πâ‡∏ô ‡πÜ

| ‡∏õ‡∏£‡∏∞‡πÄ‡∏î‡πá‡∏ô               | **Terraform**                   | **Terragrunt**                        |
| --------------------- | ------------------------------- | ------------------------------------- |
| ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠      | IaC Tool (‡∏Ç‡∏≠‡∏á HashiCorp)        | Wrapper ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Terraform              |
| ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏´‡∏•‡∏±‡∏Å           | Provision/Manage Infrastructure | ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ configuration, automation, DRY |
| ‡πÉ‡∏ä‡πâ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á‡∏Å‡∏±‡∏ö Cloud | ‚úÖ ‡πÉ‡∏ä‡πà                           | ‚ùå ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà (‡πÄ‡∏£‡∏µ‡∏¢‡∏Å Terraform ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÅ‡∏ó‡∏ô)   |
| ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ state       | ‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏≠‡∏á‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞ module       | ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÑ‡∏î‡πâ‡∏£‡∏ß‡∏°‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏ú‡πà‡∏≤‡∏ô config ‡∏Å‡∏•‡∏≤‡∏á     |
| ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö           | ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡πÄ‡∏•‡πá‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏î‡∏µ‡πà‡∏¢‡∏ß ‡πÜ        | ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡πÉ‡∏´‡∏ç‡πà ‡∏´‡∏•‡∏≤‡∏¢ environment         |

---

‡∏´‡∏≤‡∏Å‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏≥‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏´‡∏•‡∏≤‡∏¢ environment ‡πÄ‡∏ä‡πà‡∏ô `dev/staging/prod` ‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏•‡∏≤‡∏¢‡∏ó‡∏µ‡∏°‡πÉ‡∏ä‡πâ module ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô ‚Äî **Terragrunt** ‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡∏•‡∏î maintenance ‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏Å‡∏Ñ‡∏£‡∏±‡∏ö

‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏ú‡∏°‡∏¢‡∏Å‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå Terraform + Terragrunt ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö AWS ‡πÅ‡∏ö‡∏ö production-ready ‡πÉ‡∏´‡πâ‡∏î‡∏π‡πÑ‡∏´‡∏°‡∏Ñ‡∏£‡∏±‡∏ö?
